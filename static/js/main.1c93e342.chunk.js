(this["webpackJsonpmaterial-pg-01"]=this["webpackJsonpmaterial-pg-01"]||[]).push([[0],{100:function(t,e,a){},110:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),c=a(10),o=a.n(c);a(100),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(60),s=a(67),l=a.n(s),u=a(77),d=a(45),m=a(46),p=a(59),j=a(58),h=a(5),b=a(158),f=a(152),x=a(151),v=a(153),O=a(149),g=a(155),y=a(80),k=a.n(y),C=a(83),B=a(150),S=a(81),w=a(112),F=a(57),N=a.n(F),A=a(47),D=a(157),I=a(147),T=a(148),R=a(79),W=a.n(R),q=a(156),z=a(160),M=a(145),E=a(141),L=a(144),P=a(6);function U(t){var e=t.outputFormat,a=t.setOutputFormat,n=t.style;return Object(P.jsxs)(E.a,{component:"fieldset",style:n,children:[Object(P.jsx)(L.a,{component:"legend",children:"Output Format"}),Object(P.jsxs)(z.a,{"aria-label":"format",name:"format",value:e,onChange:function(t){a(t.target.value)},children:[Object(P.jsx)(M.a,{value:"m4b",control:Object(P.jsx)(q.a,{}),label:"AAC m4b"}),Object(P.jsx)(M.a,{value:"flac",control:Object(P.jsx)(q.a,{}),label:"FLAC hq"}),Object(P.jsx)(M.a,{value:"mp3",control:Object(P.jsx)(q.a,{}),label:"Lame mp3"})]})]})}function V(t){var e=t.operatingSystem,a=t.setOperatingSystem,n=t.style;return Object(P.jsxs)(E.a,{component:"fieldset",style:n,children:[Object(P.jsx)(L.a,{component:"legend",children:"Operating System"}),Object(P.jsxs)(z.a,{"aria-label":"format",name:"format",value:e,onChange:function(t){return a(t.target.value)},children:[Object(P.jsx)(M.a,{value:"win",control:Object(P.jsx)(q.a,{}),label:"Windows"}),Object(P.jsx)(M.a,{value:"linux",control:Object(P.jsx)(q.a,{}),label:"Linux"}),Object(P.jsx)(M.a,{value:"osx",control:Object(P.jsx)(q.a,{}),label:"Mac"})]})]})}var H=function(t){Object(p.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).DarkerDisabledTextField=Object(h.a)({root:{marginRight:8,"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)"}}})(v.a),n.setExpanded=function(t){return n.setState({expanded:t})},n.handleChange=function(t){return function(e,a){n.setExpanded(!!a&&t)}},n.getCommand=function(){var t,e=n.state,a=e.outputFormat,i=e.operatingSystem,c=n.props,o=c.fileName,r=c.activationBytes;r=null!==(t=r)&&void 0!==t?t:"00000000";var s=o.split(".")[0];s="input"==s?"output":s;var l=[{os:"win",cmd:"ffmpeg.exe",discriminator:'"'},{os:"linux",cmd:"./ffmpeg",discriminator:"'"},{os:"osx",cmd:"./ffmpeg",discriminator:"'"}].filter((function(t){return t.os==i}))[0],u=[{format:"m4b",codec:"copy"},{format:"flac",codec:"flac"},{format:"mp3",codec:"libmp3lame"}].filter((function(t){return t.format==a}))[0].codec,d=l.cmd,m=l.discriminator;return"".concat(d," -y")+" -activation_bytes ".concat(r," -i  ").concat(m,".\\").concat(o).concat(m)+" -map_metadata 0 -id3v2_version 3"+" -codec:a ".concat(u)+" -vn ".concat(m).concat(s,".").concat(a).concat(m)},n.state={expanded:"",outputFormat:"m4b",operatingSystem:"win"},n}return Object(m.a)(a,[{key:"render",value:function(){var t=this,e=this.props.classes,a=this.state,n=a.expanded,i=a.outputFormat,c=a.operatingSystem;return Object(P.jsx)("div",{className:e.root,children:Object(P.jsxs)(D.a,{expanded:"panel2"===n,onChange:this.handleChange("panel2"),children:[Object(P.jsxs)(I.a,{expandIcon:Object(P.jsx)(W.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(P.jsx)(C.a,{className:e.heading,children:"Command"}),Object(P.jsx)(C.a,{className:e.secondaryHeading,children:"Generate ffmpeg command"})]}),Object(P.jsxs)(T.a,{style:{display:"block"},children:[Object(P.jsx)(U,{outputFormat:i,setOutputFormat:function(e){return t.setState({outputFormat:e})}}),Object(P.jsx)(V,{operatingSystem:c,setOperatingSystem:function(e){return t.setState({operatingSystem:e})},style:{paddingLeft:"20px"}}),Object(P.jsx)(this.DarkerDisabledTextField,{value:this.getCommand(),disabled:!0,multiline:!0,variant:"outlined",margin:"normal",fullWidth:!0,id:"activationBytes",label:"cmd",name:"activationBytes",autoComplete:"activationBytes","aria-readonly":!0,fontSize:5,InputProps:{readOnly:!0,endAdornment:Object(P.jsx)(A.CopyToClipboard,{text:this.getCommand(),children:Object(P.jsx)(w.a,{children:Object(P.jsx)(N.a,{})})})}})]})]})})}}]),a}(i.a.Component),_=Object(h.a)((function(t){return{root:{width:"100%"},heading:{fontSize:t.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:t.typography.pxToRem(15),color:t.palette.text.secondary}}}))(H),J=function(t){Object(p.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).DarkerDisabledTextField=Object(h.a)({root:{marginRight:8,"& .MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)"}}})(v.a),n.Copyright=function(){return Object(P.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(P.jsx)(O.a,{color:"inherit",href:"https://audible-tools.github.io/",children:"audible-tools"})," ",(new Date).getFullYear(),"."]})},n.setChecksum=function(t){t.length>40||n.setState({checksum:t})},n.isChecksumValid=function(){var t=n.state.checksum;return RegExp("[a-f0-9]{40}").test(t)},n.isInputInvalid=function(){var t=n.state.checksum;return!(!t||""===t)&&!n.isChecksumValid()},n.requestActivationBytes=function(){var t=n.state.checksum;fetch("https://aax.api.j-kit.me/api/v2/activation/"+t).then((function(t){return t.json()})).then((function(t){var e=t.success;t.activationBytes;!0===e?n.setState({activationBytes:t.activationBytes}):n.setState({activationBytes:"UNKNOWN"})}),(function(t){n.setState({activationBytes:"UNKNOWN"})}))},n.acceptFile=function(){var t=Object(u.a)(l.a.mark((function t(e){var a,i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e[0],n.setState({fileName:a.name}),i=a.slice(653,673),t.t0=n,t.next=6,i.arrayBuffer();case 6:t.t1=t.sent,c=t.t0.buf2hex.call(t.t0,t.t1),n.setChecksum(c),n.requestActivationBytes();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.state={checksum:"",fileName:"input.aax"},n}return Object(m.a)(a,[{key:"buf2hex",value:function(t){return Array.prototype.map.call(new Uint8Array(t),(function(t){return("00"+t.toString(16)).slice(-2)})).join("")}},{key:"render",value:function(){var t=this,e=this.props.classes,a=this.state,n=a.checksum,i=a.activationBytes,c=a.fileName;return Object(P.jsxs)(B.a,{component:"main",maxWidth:"md",children:[Object(P.jsx)(x.a,{}),Object(P.jsxs)("div",{className:e.paper,children:[Object(P.jsx)(b.a,{className:e.avatar,children:Object(P.jsx)(k.a,{})}),Object(P.jsx)(C.a,{component:"h1",variant:"h5",children:"AAX Checksum Resolver"}),Object(P.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(P.jsx)(S.a,{noClick:!0,onDrop:function(e){console.log(e),t.acceptFile(e)},children:function(e){var a=e.getRootProps,i=e.getInputProps;return Object(P.jsx)("section",{children:Object(P.jsxs)("div",Object(r.a)(Object(r.a)({},a()),{},{children:[Object(P.jsx)("input",Object(r.a)({},i())),Object(P.jsx)(v.a,{error:t.isInputInvalid(),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"checksum",label:"Checksum or Drag&Drop .aax file -",name:"checksum",autoComplete:"checksum",autoFocus:!0,onChange:function(e){return t.setChecksum(e.target.value)},value:n})]}))})}}),Object(P.jsx)(f.a,{fullWidth:!0,variant:"contained",onClick:function(){t.requestActivationBytes()},disabled:!this.isChecksumValid(),children:"Request Activation Bytes"}),Object(P.jsx)(this.DarkerDisabledTextField,{value:i,disabled:!0,variant:"outlined",margin:"normal",fullWidth:!0,id:"activationBytes",label:i?"":"Activation Bytes",name:"activationBytes",autoComplete:"activationBytes","aria-readonly":!0,InputProps:{readOnly:!0,endAdornment:Object(P.jsx)(A.CopyToClipboard,{text:i,children:Object(P.jsx)(w.a,{children:Object(P.jsx)(N.a,{})})})}})]})]}),Object(P.jsx)(_,{fileName:c,activationBytes:i}),Object(P.jsx)(g.a,{mt:1,children:Object(P.jsx)(this.Copyright,{})})]})}}]),a}(i.a.Component),K=Object(h.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},heading:{fontSize:t.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:t.typography.pxToRem(15),color:t.palette.text.secondary}}}))(J),G=a(68);G.a.initialize("UA-174657678-1"),G.a.pageview(window.location.pathname+window.location.search),o.a.render(Object(P.jsx)(K,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[110,1,2]]]);
//# sourceMappingURL=main.1c93e342.chunk.js.map